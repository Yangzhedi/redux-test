<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#000000">
    <!--
      manifest.json provides metadata used when your web app is added to the
      homescreen on Android. See https://developers.google.com/web/fundamentals/engage-and-retain/web-app-manifest/
    -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json">
    <link rel="shortcut icon" href="%PUBLIC_URL%/static/favicon.ico">
    <!--
      Notice the use of %PUBLIC_URL% in the tags above.
      It will be replaced with the URL of the `public` folder during the build.
      Only files inside the `public` folder can be referenced from the HTML.

      Unlike "/favicon.ico" or "favicon.ico", "%PUBLIC_URL%/favicon.ico" will
      work correctly both with client-side routing and a non-root public URL.
      Learn how to configure a non-root public URL by running `npm run build`.
    -->
    <title> 杨哲迪的个人网站 - Yang Zhedi's Personal Website </title>
  </head>
  <!--<script>-->
      <!--var _hmt = _hmt || [];-->
      <!--(function() {-->
          <!--var hm = document.createElement("script");-->
          <!--hm.src = "https://hm.baidu.com/hm.js?c95ecd4deac84d09e9e2f8a51711d3f1";-->
          <!--var s = document.getElementsByTagName("script")[0];-->
          <!--s.parentNode.insertBefore(hm, s);-->
      <!--})();-->
  <!--</script>-->
  <body>
    <noscript>
      You need to enable JavaScript to run this app.
    </noscript>
    <div id="root"></div>
  </body>
  <script>
      function setClipboardText(event){
          event.preventDefault();
          var node = document.createElement('div');
          //对documentfragment不熟，不知道怎么获取里面的内容，用了一个比较笨的方式
          node.appendChild(window.getSelection().getRangeAt(0).cloneContents());
          var htmlData = node.innerHTML
              + '<div>著作权归作者所有。<br />'
              + '商业转载请联系作者获得授权，非商业转载请注明出处。<br />'
              + '作者：杨哲迪<br />链接：'+window.location.href+'<br />'
              + '来源：杨哲迪的个人网站 - Yang Zhedi\'s Personal Website<br /><br />'
              + '</div>';
          var textData = window.getSelection().getRangeAt(0)
              + '著作权归作者所有。\n'
              + '商业转载请联系作者获得授权，非商业转载请注明出处。\n'
              + '作者：杨哲迪\n链接：'+window.location.href+'\n'
              + '来源：杨哲迪的个人网站 - Yang Zhedi\'s Personal Website\n\n';
          if(event.clipboardData){
              event.clipboardData.setData("text/html", htmlData);
              event.clipboardData.setData("text/plain",textData);
          } else if (window.clipboardData){
              return window.clipboardData.setData("text", textData);
          }
      };
      var root = document.getElementById("root");
      root.addEventListener('copy',function(e){
          setClipboardText(e);
      });
  </script>
</html>